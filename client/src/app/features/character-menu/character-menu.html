@if (isLoading) {
  <div class="flex flex-col justify-center items-center h-screen">
    <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-yellow-600"></div>
    <p class="mt-4 text-xl text-gray-700">Loading characters...</p>
  </div>
}
@else if (error) {
  <div class="bg-yellow-200/50 p-4 m-5 rounded">
    <p class="text-yellow-800">{{error}}</p>
  </div>
}
@else if (characters.length > 0) {
  <div class="max-w-screen-xl mx-auto px-16 py-8 bg-amber-100 rounded-2xl mt-1">

    <!-- <h1 class="text-4xl font-bold text-gray-800 mb-8">Characters</h1> -->
     <button class="bg-amber-700 hover:bg-amber-800 text-white font-semibold py-2 px-4 mb-5 rounded text-center transition-colors duration-200"
     [routerLink]="['/create-character']">New Character</button>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      @for(character of characters; track character.id) {
        <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
          <!-- Character Image -->
          <div class="relative h-64 bg-gray-200">
            <img 
              [src]="'assets/images/p' + character.id + '.jpg'" 
              [alt]="character.name"
              class="w-full h-full object-cover"
            >
          </div>
          
          <!-- Character Info -->
          <div class="p-4">
            <h2 class="text-xl font-bold text-gray-800 mb-2 truncate">
              {{ character.name }}
            </h2>
            <div class="text-gray-600 mb-4">
              <p class="text-sm">
                <span class="font-semibold">Class:</span> {{ character.class }}
              </p>
              <p class="text-sm">
                <span class="font-semibold">Subclass:</span> {{ character.subclass }}
              </p>
              <p class="text-sm">
                <span class="font-semibold">Level:</span> {{ character.level }}
              </p>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex gap-2">
              <a
                [routerLink]="['/characters', character.id]"
                class="flex-1 bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-4 rounded text-center transition-colors duration-200"
              >
                Open
              </a>
              <a
                [routerLink]="['/characters', character.id]"
                class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded text-center transition-colors duration-200"
              >
                Edit
              </a>
            </div>
          </div>
        </div>
      }
    </div>
  </div>
}
